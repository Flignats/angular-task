<crx-page>
    <div class="header">
        <crx-header pageTitle="Profiles"></crx-header>
    </div>
    <h1> User Profiles </h1>
    <div class="content">
        <div class="loading">
            loading: {{ loading$ | async }}
        </div>

        <div class="profiles">
            <mat-card class="profile" *ngFor="let profile of (users$ | async); trackBy: profile?.login?.uuid">
                <mat-card-header>
                    <div mat-card-avatar class="profile-header-image">
                        <img mat-card-image [src]="profile.picture.thumbnail" alt="Photo of a user" height="40" width="40">
                    </div>
                    <mat-card-title>{{ profile.name.first }} {{ profile.name.last }}</mat-card-title>
                    <mat-card-subtitle>{{ profile.dob.date | date:'fullDate' }}</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <ul>
                        <li>Username: {{ profile.login.username }}</li>
                        <li>Email: {{ profile.email }}</li>
                        <li>Phone: {{ profile.phone }}</li>
                    </ul>
                </mat-card-content>
                <mat-card-actions>
                    <button mat-button color="accent" (click)="onViewProfile(profile)">View Profile</button>
                </mat-card-actions>
            </mat-card>
        </div>
    </div>
    <crx-footer></crx-footer>
</crx-page>